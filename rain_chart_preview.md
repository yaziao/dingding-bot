# ğŸŒ§ï¸ å¤©æ°”é›¨å›¾åŠŸèƒ½é¢„è§ˆ

## âœ¨ æ–°å¢åŠŸèƒ½

ä¸ºå¤©æ°”æ’­æŠ¥ç³»ç»Ÿæ·»åŠ äº†å¼ºå¤§çš„é›¨å›¾ç”ŸæˆåŠŸèƒ½ï¼Œæ”¯æŒå¯è§†åŒ–å±•ç¤ºé™æ°´é¢„æŠ¥ä¿¡æ¯ã€‚

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### 1. å½©è‰²é™æ°´æŸ±çŠ¶å›¾
- ğŸ“ˆ 12å°æ—¶é™æ°´è¶‹åŠ¿å¯è§†åŒ–
- ğŸ¨ ä¸åŒé™æ°´å¼ºåº¦ç”¨ä¸åŒé¢œè‰²åŒºåˆ†
- â° ç²¾ç¡®åˆ°å°æ—¶çš„æ—¶é—´è½´æ˜¾ç¤º
- ğŸ“Š é™æ°´é‡æ•°å€¼æ ‡æ³¨
- ğŸŒ¤ï¸ å¤©æ°”çŠ¶æ€å›¾æ ‡å±•ç¤º

### 2. ASCIIæ–‡æœ¬é›¨å›¾ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰
```
ğŸŒ§ï¸ åŒ—äº¬é™æ°´é¢„æŠ¥å›¾
========================================

 2.0|â–ˆ    â–“
 1.8|â–ˆ    â–“
 1.6|â–ˆ    â–“   â–ˆ
 1.4|â–ˆ    â–“   â–ˆ
 1.2|â–ˆ    â–“   â–ˆ
 1.0|â–ˆ â–“  â–“   â–ˆ  â–“
 0.8|â–ˆ â–“  â–“   â–ˆ  â–“
 0.6|â–ˆ â–“  â–“   â–ˆ  â–“
 0.4|â–ˆ â–“  â–“ â–“ â–ˆ  â–“
 0.2|â–ˆ â–“  â–“ â–“ â–ˆ  â–“ â–“
 0.0+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    14 15 16 17 18 19 20 21 22 23 24 01

å›¾ä¾‹: â–ˆ å¤§é›¨  â–“ ä¸­é›¨  â–‘ å°é›¨  Â· æ— é›¨
æ€»é™æ°´é‡: 12.3mm  æœ€å¤§: 2.1mm/h
```

### 3. æ™ºèƒ½é™æ°´åˆ†æ
- ğŸ’§ å½“å‰é™æ°´çŠ¶æ€è¯†åˆ«
- ğŸ“… æœªæ¥12å°æ—¶é™æ°´é¢„æµ‹
- ğŸ¯ é™æ°´ç­‰çº§è‡ªåŠ¨åˆ¤æ–­ï¼ˆå¾®é›¨/å°é›¨/ä¸­é›¨/å¤§é›¨/æš´é›¨ï¼‰
- ğŸ’¡ æ™ºèƒ½å‡ºè¡Œå»ºè®®

### 4. é’‰é’‰é›†æˆä¼˜åŒ–
- ğŸ“± Markdownæ ¼å¼ä¼˜åŒ–æ˜¾ç¤º
- ğŸ–¼ï¸ Base64å›¾ç‰‡ç¼–ç æ”¯æŒ
- ğŸ“‹ æ–‡æœ¬+å›¾ç‰‡æ··åˆæ¶ˆæ¯
- ğŸ”„ è‡ªåŠ¨é™çº§åˆ°ASCIIå›¾è¡¨

## ğŸ“ è¾“å‡ºç¤ºä¾‹

### Markdownæ ¼å¼å¤©æ°”æŠ¥å‘Šï¼ˆå«é›¨å›¾ï¼‰

```markdown
## ğŸŒ¤ï¸ åŒ—äº¬å¤©æ°”å®å†µ

> ğŸ“… **æ›´æ–°æ—¶é—´ï¼š** 2024-01-15 14:30

---

### ğŸŒ¡ï¸ åŸºæœ¬ä¿¡æ¯
- **æ¸©åº¦ï¼š** 22.5Â°C ğŸŒ¡ï¸ æ¸©æš–
- **å¤©æ°”ï¼š** â›… å¤šäº‘
- **æ¹¿åº¦ï¼š** ğŸ’§ 65.0%
- **é£å‘é£é€Ÿï¼š** ğŸ’¨ è¥¿å—é£ 8.5m/s
- **èƒ½è§åº¦ï¼š** ğŸ‘ï¸ 15.0km
- **æ°”å‹ï¼š** ğŸ”ï¸ 1013.2hPa

### ğŸ« ç©ºæ°”è´¨é‡
- **AQIï¼š** ğŸŸ¡ 85 (è‰¯)
- **PM2.5ï¼š** ğŸ”¹ 25.5Î¼g/mÂ³
- **PM10ï¼š** ğŸ”¸ 45.0Î¼g/mÂ³

### ğŸ”® æœªæ¥2å°æ—¶é¢„æŠ¥

**ğŸ“… 1å°æ—¶å (15:30)**
- **æ¸©åº¦ï¼š** 23.0Â°C
- **å¤©æ°”ï¼š** ğŸŒ¦ï¸ å°é›¨
- **æ¹¿åº¦ï¼š** ğŸ’§ 67.0%
- **é£å‘é£é€Ÿï¼š** ğŸ’¨ è¥¿å—é£ 8.8m/s

**ğŸ“… 2å°æ—¶å (16:30)**
- **æ¸©åº¦ï¼š** 23.5Â°C
- **å¤©æ°”ï¼š** ğŸŒ§ï¸ ä¸­é›¨ (ä¸­é›¨)
- **æ¹¿åº¦ï¼š** ğŸ’§ 69.0%
- **é£å‘é£é€Ÿï¼š** ğŸ’¨ è¥¿å—é£ 9.1m/s

### ğŸŒ§ï¸ é™æ°´ä¿¡æ¯
- **å½“å‰é™æ°´ï¼š** 1.2mm/h (å°é›¨)
- **æœªæ¥2å°æ—¶ï¼š** æœ‰é™æ°´ï¼Œæœ€å¤§5.5mm/h (ä¸­é›¨)
- **å¹³å‡é™æ°´å¼ºåº¦ï¼š** 3.4mm/h
- **å‡ºè¡Œå»ºè®®ï¼š** â˜‚ï¸ å»ºè®®æºå¸¦é›¨å…·ï¼Œæ³¨æ„è·¯é¢æ¹¿æ»‘

**ğŸ“Š è¯¦ç»†é™æ°´é¢„æŠ¥å›¾è¡¨å·²ç”Ÿæˆ**

### ğŸ’¡ æ¸©é¦¨æç¤º
- ğŸŒ‚ å¯èƒ½æœ‰å°é›¨ï¼Œå»ºè®®å¤‡å¥½é›¨å…·
- â˜‚ï¸ æœªæ¥2å°æ—¶å¯èƒ½æœ‰é™é›¨ï¼Œè®°å¾—å¸¦ä¼ï¼
```

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### ä¾èµ–é¡¹
- `matplotlib>=3.7.0` - å›¾è¡¨ç”Ÿæˆ
- `numpy>=1.24.0` - æ•°å€¼è®¡ç®—
- `base64` - å›¾ç‰‡ç¼–ç 

### æ ¸å¿ƒæ¨¡å—
1. **RainVisualizer** - é›¨å›¾å¯è§†åŒ–å™¨
2. **WeatherFormatter** - å¤©æ°”æ ¼å¼åŒ–å™¨å¢å¼º
3. **WeatherTask** - å¤©æ°”ä»»åŠ¡é›†æˆ
4. **WeatherData** - æ•°æ®æ¨¡å‹æ‰©å±•

### ä½¿ç”¨æ–¹å¼

```python
# åˆ›å»ºå¸¦é›¨å›¾çš„å¤©æ°”ä»»åŠ¡
weather_task = WeatherTask(dingtalk_bot, include_rain_chart=True)

# è·å–æ•°æ®å¹¶æ ¼å¼åŒ–
data = weather_task.fetch_data()
if data:
    title, content = weather_task.format_message(data)
    image_base64 = weather_task.get_rain_chart_image(data)
    
    # å‘é€åˆ°é’‰é’‰
    dingtalk_bot.send_markdown_message(title, content)
    if image_base64:
        dingtalk_bot.send_image(image_base64)
```

## ğŸ¯ åº”ç”¨åœºæ™¯

1. **ğŸ“± æ—¥å¸¸å¤©æ°”æ’­æŠ¥** - è‡ªåŠ¨ç”ŸæˆåŒ…å«é›¨å›¾çš„å¤©æ°”æŠ¥å‘Š
2. **âš ï¸ æ¶åŠ£å¤©æ°”é¢„è­¦** - çªå‡ºæ˜¾ç¤ºå¼ºé™æ°´æƒ…å†µ
3. **ğŸš— å‡ºè¡Œè§„åˆ’æé†’** - åŸºäºé™æ°´é¢„æŠ¥æä¾›å‡ºè¡Œå»ºè®®
4. **ğŸ¢ åŠå…¬å®¤é€šçŸ¥** - å®šæ—¶æ¨é€å¤©æ°”å’Œé™æ°´ä¿¡æ¯
5. **ğŸ‘¥ å›¢é˜Ÿæ´»åŠ¨å®‰æ’** - æˆ·å¤–æ´»åŠ¨å¤©æ°”é£é™©è¯„ä¼°

## ğŸŒŸ ä¼˜åŠ¿ç‰¹ç‚¹

- **ğŸ¨ å¯è§†åŒ–ç›´è§‚** - å›¾è¡¨æ¯”æ–‡å­—æ›´ç›´è§‚
- **ğŸ“Š æ•°æ®ä¸°å¯Œ** - 12å°æ—¶é™æ°´è¶‹åŠ¿ä¸€ç›®äº†ç„¶
- **ğŸ”„ è‡ªåŠ¨é™çº§** - å›¾ç‰‡ç”Ÿæˆå¤±è´¥æ—¶è‡ªåŠ¨ä½¿ç”¨ASCIIå›¾è¡¨
- **ğŸ’¡ æ™ºèƒ½å»ºè®®** - åŸºäºé™æ°´å¼ºåº¦æä¾›å‡ºè¡Œå»ºè®®
- **ğŸ“± ç§»åŠ¨ä¼˜åŒ–** - é€‚é…é’‰é’‰ç§»åŠ¨ç«¯æ˜¾ç¤º
- **âš¡ æ€§èƒ½ä¼˜åŒ–** - å¿«é€Ÿç”Ÿæˆï¼Œä½èµ„æºå ç”¨

ğŸ‰ **é›¨å›¾åŠŸèƒ½å·²é›†æˆåˆ°å¤©æ°”æ’­æŠ¥ç³»ç»Ÿä¸­ï¼Œä¸ºç”¨æˆ·æä¾›æ›´åŠ ä¸°å¯Œå’Œç›´è§‚çš„å¤©æ°”ä¿¡æ¯ï¼**
